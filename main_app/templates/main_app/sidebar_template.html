{% load static %}
<!-- Add Google Fonts link -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:700|Poppins:400,500|Lato:400,700&display=swap" rel="stylesheet">
<style>
/* Modern, subtle sidebar colors */
body, .sidebar, .main-sidebar {
    font-family: 'Poppins', 'Lato', Arial, sans-serif;
}
.main-sidebar {
    background: linear-gradient(135deg, #23272f 0%, #2c313a 100%);
    color: #f5f6fa;
}
.brand-link, .sidebar .user-panel .info a {
    font-family: 'Montserrat', cursive, sans-serif;
    font-weight: 700;
    color: #f5f6fa !important;
    letter-spacing: 1px;
}
.brand-link .brand-text {
    font-size: 1.05rem; /* Smaller home/sidebar title */
}
.nav-sidebar .nav-item > .nav-link {
    color: #f5f6fa;
    font-family: 'Poppins', 'Lato', Arial, sans-serif;
    font-size: 16px;
    border-radius: 8px;
    margin-bottom: 4px;
    transition: background 0.2s, color 0.2s;
}
.nav-sidebar .nav-item > .nav-link.active, 
.nav-sidebar .nav-item > .nav-link:hover {
    background: #3a3f48 !important;
    color: #ffffff !important;
    font-weight: bold;
    box-shadow: none !important;
    border: none !important;
}
.nav-sidebar .nav-treeview {
    background: rgba(255,255,255,0.03);
    margin-left: 10px;
    border-radius: 6px;
}
.nav-sidebar .nav-treeview .nav-link {
    padding-left: 2.5rem;
    color: #d1d5db;
    font-size: 15px;
}
.nav-sidebar .nav-treeview .nav-link.active, 
.nav-sidebar .nav-treeview .nav-link:hover {
    background: #3a3f48;
    color: #ffffff !important;
    font-weight: bold;
}
.nav-sidebar .nav-treeview .nav-link .nav-icon {
    color: #bfc7d5 !important;
}
</style>
<!-- ...existing code... -->

<aside class="main-sidebar sidebar-dark-primary elevation-4">
{% if request.user.user_type == '1' %}
    <!-- Brand Logo -->
    <a href="{% url 'admin_home' %}" class="brand-link">
        <img src="{% static 'dist/img/AdminLTELogo.png' %}" alt="AdminLTE Logo"
            class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">Admin Panel</span>
    </a>
    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="image">
                <img src="{{ request.user.profile_pic}}" class="img-circle elevation-2" alt="User Image">
            </div>
            <div class="info">
                <a href="#" class="d-block">{{user}}</a>
            </div>
        </div>
        <!-- Sidebar Menu -->
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

                <!-- Dashboard -->
                <li class="nav-item">
                    {% url 'admin_home' as admin_home %}
                    <a href="{{admin_home}}" class="nav-link {% if admin_home == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <!-- Edit Profile -->
                <li class="nav-item">
                    {% url 'admin_view_profile' as admin_view_profile %}
                    <a href="{{admin_view_profile}}" class="nav-link {% if admin_view_profile == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-user-edit"></i>
                        <p>Edit Profile</p>
                    </a>
                </li>

                <!-- Manager Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-user-tie"></i>
                        <p>
                            Manager
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'add_manager' as add_manager %}
                            <a href="{{add_manager}}" class="nav-link {% if add_manager == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Manager</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'manage_manager' as manage_manager %}
                            <a href="{{manage_manager}}" class="nav-link {% if manage_manager == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manage Manager</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Employee Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-users"></i>
                        <p>
                            Employee
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'add_employee' as add_employee %}
                            <a href="{{add_employee}}" class="nav-link {% if add_employee == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Employee</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'manage_employee' as manage_employee %}
                            <a href="{{manage_employee}}" class="nav-link {% if manage_employee == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manage Employee</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Division Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-building"></i>
                        <p>
                            Division
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'add_division' as add_division %}
                            <a href="{{add_division}}" class="nav-link {% if add_division == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Division</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'manage_division' as manage_division %}
                            <a href="{{manage_division}}" class="nav-link {% if manage_division == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manage Division</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Department Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-sitemap"></i>
                        <p>
                            Department
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'add_department' as add_department %}
                            <a href="{{add_department}}" class="nav-link {% if add_department == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Add Department</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'manage_department' as manage_department %}
                            <a href="{{manage_department}}" class="nav-link {% if manage_department == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manage Department</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Leave Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-calendar-alt"></i>
                        <p>
                            Leave
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'view_manager_leave' as view_manager_leave %}
                            <a href="{{view_manager_leave}}" class="nav-link {% if view_manager_leave == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manager Leave</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'view_employee_leave' as view_employee_leave %}
                            <a href="{{view_employee_leave}}" class="nav-link {% if view_employee_leave == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Employee Leave</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Feedback Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-comments"></i>
                        <p>
                            Feedback
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'employee_feedback_message' as employee_feedback_message %}
                            <a href="{{employee_feedback_message}}" class="nav-link {% if employee_feedback_message == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Employee Feedback</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'manager_feedback_message' as manager_feedback_message %}
                            <a href="{{manager_feedback_message}}" class="nav-link {% if manager_feedback_message == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Manager Feedback</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Notification Dropdown -->
                <li class="nav-item has-treeview">
                    <a href="#" class="nav-link">
                        <i class="nav-icon fas fa-bell"></i>
                        <p>
                            Notification
                            <i class="right fas fa-angle-left"></i>
                        </p>
                    </a>
                    <ul class="nav nav-treeview">
                        <li class="nav-item">
                            {% url 'admin_notify_manager' as admin_notify_manager %}
                            <a href="{{admin_notify_manager}}" class="nav-link {% if admin_notify_manager == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Notify Manager</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            {% url 'admin_notify_employee' as admin_notify_employee %}
                            <a href="{{admin_notify_employee}}" class="nav-link {% if admin_notify_employee == request.path %} active {% endif %}">
                                <i class="far fa-circle nav-icon"></i>
                                <p>Notify Employee</p>
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- Salary Dropdown (Admin Only) -->
            

                <!-- Other links (Home, Profile, Attendance, etc.) can remain as is or be grouped similarly -->

                <li class="nav-item">
                    <a href="{% url 'user_logout' %}" onclick="return confirm('Your session would be terminated.\n\nProceed?')" class="nav-link">
                        <i class="nav-icon fas fa-th"></i>
                        <p>Logout</p>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</aside>
{% elif request.user.user_type == '2' %}
    <!-- Brand Logo -->
    <a href="#" class="brand-link">
        <img src="{% static 'dist/img/AdminLTELogo.png' %}" alt="AdminLTE Logo"
            class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">Manager Panel</span>
    </a>
    <div class="sidebar">
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="image">
                <img src="{{ request.user.profile_pic}}" class="img-circle elevation-2" alt="User Image">
            </div>
            <div class="info">
                <a href="#" class="d-block">{{ user }}</a>
            </div>
        </div>
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <li class="nav-item">
                    {% url 'manager_home' as manager_home %}
                    <a href="{{manager_home}}" class="nav-link {% if manager_home == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_view_profile' as manager_view_profile %}
                    <a href="{{manager_view_profile}}" class="nav-link {% if manager_view_profile == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-user-edit"></i>
                        <p>Edit Profile</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_add_salary' as manager_add_salary %}
                    <a href="{{manager_add_salary}}" class="nav-link {% if manager_add_salary == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-money-check-alt"></i>
                        <p>Add Salary</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'edit_employee_salary' as edit_employee_salary %}
                    <a href="{{edit_employee_salary}}" class="nav-link {% if edit_employee_salary == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-edit"></i>
                        <p>Edit Salary</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_take_attendance' as manager_take_attendance %}
                    <a href="{{manager_take_attendance}}" class="nav-link {% if manager_take_attendance == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-calendar-check"></i>
                        <p>Take Attendance</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_update_attendance' as manager_update_attendance %}
                    <a href="{{manager_update_attendance}}" class="nav-link {% if manager_update_attendance == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-calendar-day"></i>
                        <p>View/Update Attendance</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_view_notification' as manager_view_notification %}
                    <a href="{{manager_view_notification}}" class="nav-link {% if manager_view_notification == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-bell"></i>
                        <p>View Notifications</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_apply_leave' as manager_apply_leave %}
                    <a href="{{manager_apply_leave}}" class="nav-link {% if manager_apply_leave == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-calendar-alt"></i>
                        <p>Apply For Leave</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manager_feedback' as manager_feedback %}
                    <a href="{{manager_feedback}}" class="nav-link {% if manager_feedback == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-comments"></i>
                        <p>Feedback</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'user_logout' %}" onclick="return confirm('Your session would be terminated.\n\nProceed?')" class="nav-link">
                        <i class="nav-icon fas fa-sign-out-alt"></i>
                        <p>Logout</p>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
{% else %}
    <!-- Brand Logo -->
    <a href="" class="brand-link">
        <img src="{% static 'dist/img/AdminLTELogo.png' %}" alt="AdminLTE Logo"
            class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">Employee Panel</span>
    </a>
    <div class="sidebar">
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="image">
                <img src="{{ request.user.profile_pic}}" class="img-circle elevation-2" alt="User Image">
            </div>
            <div class="info">
                <a href="#" class="d-block">{{user}}</a>
            </div>
        </div>
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <li class="nav-item">
                    {% url 'employee_home' as employee_home %}
                    <a href="{{employee_home}}" class="nav-link {% if employee_home == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'employee_view_profile' as employee_view_profile %}
                    <a href="{{employee_view_profile}}" class="nav-link {% if employee_view_profile == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-user-edit"></i>
                        <p>Edit Profile</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'employee_view_salary' as employee_view_salary %}
                    <a href="{{employee_view_salary}}" class="nav-link {% if employee_view_salary == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-money-check-alt"></i>
                        <p>View Salary</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'employee_view_attendance' as employee_view_attendance %}
                    <a href="{{employee_view_attendance}}" class="nav-link {% if employee_view_attendance == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-calendar-check"></i>
                        <p>View Attendance</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'employee_view_notification' as employee_view_notification %}
                    <a href="{{employee_view_notification}}" class="nav-link {% if employee_view_notification == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-bell"></i>
                        <p>View Notifications</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'employee_apply_leave' as employee_apply_leave %}
                    <a href="{{employee_apply_leave}}" class="nav-link {% if employee_apply_leave == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-calendar-alt"></i>
                        <p>Apply For Leave</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'employee_feedback' as employee_feedback %}
                    <a href="{{employee_feedback}}" class="nav-link {% if employee_feedback == request.path %} active {% endif %}">
                        <i class="nav-icon fas fa-comments"></i>
                        <p>Feedback</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'user_logout' %}" onclick="return confirm('Your session would be terminated.\n\nProceed?')" class="nav-link">
                        <i class="nav-icon fas fa-sign-out-alt"></i>
                        <p>Logout</p>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
{% endif %}
</aside>
